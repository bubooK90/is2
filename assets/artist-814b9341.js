import{o as u,c as d,a as t,g as k,r,e as _,f,h as S,t as a,b as o,n as p,i as h,_ as y,F as $,j as N,k as C,d as B,u as O}from"./PageHeader-12b1de5e.js";import{_ as j}from"./PageFooter-5793eb86.js";import{_ as z,i as V}from"./index-f6f0b770.js";import"./EyeIcon-1fd0c9b5.js";function A(x,i){return u(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z","clip-rule":"evenodd"})])}const F={key:0,class:"fixed left-0 top-0 right-0 bottom-0 overflow-x-hidden overflow-y-scroll text-stone-900/80"},I=t("div",{class:"h-[120px]"},null,-1),J={class:"p-5 border-b border-stone-300 flex flex-col items-center"},M=["src"],P={class:"text-lg font-bold flex items-center mt-3"},T={class:"text-xs mt-3"},D={class:"flex flex-col md:flex-row mt-2"},E={class:"flex items-center"},L=t("div",{class:"w-2 h-2 rounded-full bg-red-500"},null,-1),U={class:"text-xs mx-2"},q={class:"flex items-center"},G=t("div",{class:"w-2 h-2 rounded-full bg-sky-500"},null,-1),H={class:"text-xs mx-2"},K={class:"flex items-center"},Q=t("div",{class:"w-2 h-2 rounded-full bg-yellow-500"},null,-1),R={class:"text-xs mx-2"},W={class:"mx-2"},X={__name:"artist",setup(x){const{proxy:i}=k(),c=r(!!localStorage.token),l=r(localStorage.profile?JSON.parse(localStorage.profile):{}),v=r(),e=r([]),n=r(!1),w=s=>{c.value=s},b=()=>{if(!c.value)return v.value.show("您尚未登录，请登录后试试看"),!1;_.put(i.$util.settings.api+"/my/follow/"+e.value.username,JSON.stringify({}),{headers:{Authorization:"Bearer "+localStorage.token,accept:"application/json","Content-Type":"application/json"}}).then(function(s){s.data.res=="ok"&&(n.value=s.data.follow,n.value?l.value.follow.push(e.value.username):l.value.follow.splice(l.value.follow.indexOf(e.value.username),1),localStorage.setItem("profile",JSON.stringify(l.value)))}).catch(function(s){console.log(s)})};return _.get(i.$util.settings.api+"/artist/"+localStorage.artist,{headers:{accept:"application/json"}}).then(function(s){s.data.res=="ok"?(e.value=s.data.artist,l.value.follow&&(n.value=l.value.follow.indexOf(e.value.username)>=0)):s.data.res=="error"&&i.$util.gotoPage()}).catch(function(s){console.log(s)}),(s,m)=>(u(),d($,null,[e.value?(u(),d("div",F,[I,t("div",J,[t("img",{src:f(i).$util.settings.api+"/"+e.value.avatar,class:"w-16 h-16 rounded-full border-2 border-white/80 mr-5"},null,8,M),t("div",P,[S(a(e.value.fullname?e.value.fullname:e.value.username)+" ",1),o(f(A),{class:p([e.value.gender==0?"text-pink-500":e.value.gender==1?"text-blue-500":"","ml-2 w-3 h-3"])},null,8,["class"])]),t("div",T,a(e.value.description),1),t("div",D,[t("div",E,[L,t("div",U,a(e.value.xiaohongshu?e.value.xiaohongshu:"-"),1)]),t("div",q,[G,t("div",H,a(e.value.bilibili?e.value.bilibili:"-"),1)]),t("div",K,[Q,t("div",R,a(e.value.weibo?e.value.weibo:"-"),1)])]),c.value&&e.value.username!=l.value.username?(u(),d("button",{key:0,class:"flex items-center mt-5 text-sm",onClick:m[0]||(m[0]=Y=>b())},[o(f(N),{class:p([n.value?"text-red-600":"","w-4 h-4"])},null,8,["class"]),t("div",W,a(n.value?"取消关注":"关注"),1)])):h("",!0)]),o(z,{title:"作品集",subtitle:"点击作品可以编辑详情",filter:"artist"}),o(j)])):h("",!0),o(y,{page:"",signin:c.value,onUpdateStatus:w},null,8,["signin"]),o(C,{ref_key:"message",ref:v},null,512)],64))}},g=B(X);g.config.globalProperties.$util=O;g.use(V,{preLoad:1,attempt:2}).mount("#app");
