import{g as w,r as d,e as f,o,c as n,a as e,t as a,i,f as p,F as g,l as S,b as m,_ as $,x as j,k as C,d as B,u as N}from"./PageHeader-8744a40b.js";import{r as A}from"./CheckIcon-ba1fefa8.js";import{i as I}from"./index-9b6d8e18.js";const z={class:"fixed left-0 top-0 right-0 bottom-0 overflow-x-hidden overflow-y-scroll"},J=e("div",{class:"h-[120px]"},null,-1),O=e("div",{class:"p-5 text-2xl font-bold"},"作品审核",-1),V={class:"flex justify-center"},D={key:0,class:"my-20"},F={key:1,class:"md:flex md:justify-center md:items-center py-10"},L={class:"mr-0 md:mr-5"},T={class:"w-[300px] bg-stone-100 p-2 shadow-xl"},U=["href"],E=["src"],M={class:"w-[300px] text-stone-900/80 ml-0 mt-5 md:ml-5 md:mt-0"},P={class:"font-bold"},W={class:"flex items-center"},q={class:"flex-1 text-sm"},G={class:"flex items-center py-3 text-xs text-white font-mono"},H={key:0,class:"bg-red-800/80 px-2 py-1"},K={key:1,class:"bg-green-800/80 px-2 py-1"},Q={key:2,class:"bg-blue-800/80 px-2 py-1"},R={class:"mt-2 text-xs flex"},X={class:"text-xs mt-3"},Y={class:"text-xs mt-3 text-stone-900/50"},Z={class:"grid grid-cols-3 text-xs mt-5"},ee={class:"col-span-2"},te=e("div",{class:"text-stone-900/50"},"模型",-1),se=e("div",{class:"text-stone-900/50"},"文本强度",-1),ae={class:"grid grid-cols-3 text-xs mt-5"},oe={class:"col-span-2"},ne=e("div",{class:"text-stone-900/50"},"采样器",-1),le=e("div",{class:"text-stone-900/50"},"步数",-1),ie={class:"flex items-center justify-between mt-5"},ce=e("span",{class:"font-bold"},"通过",-1),re=e("span",{class:"font-bold"},"删除",-1),de={__name:"review",setup(pe){const{proxy:c}=w(),u=d(!!localStorage.token),x=localStorage.profile?JSON.parse(localStorage.profile):{},v=d(),t=d({}),_=d(""),y=s=>{u.value=s},k=()=>{f.put(c.$util.settings.api+"/review/pass/"+t.value.sn,JSON.stringify({}),{headers:{Authorization:"Bearer "+localStorage.token,accept:"application/json","Content-Type":"application/json"}}).then(function(s){s.data.res=="ok"?location.reload():v.value.show(s.data.message)}).catch(function(s){console.log(s)})},b=()=>{f.put(c.$util.settings.api+"/review/deny/"+t.value.sn,JSON.stringify({}),{headers:{Authorization:"Bearer "+localStorage.token,accept:"application/json","Content-Type":"application/json"}}).then(function(s){s.data.res=="ok"?location.reload():v.value.show(s.data.message)}).catch(function(s){console.log(s)})};return localStorage.setItem("competition",""),u&&x.admin&&f.get(c.$util.settings.api+"/review",{headers:{Authorization:"Bearer "+localStorage.token,accept:"application/json"}}).then(function(s){s.data.res=="ok"?t.value=s.data.data:_.value=s.data.message}).catch(function(s){console.log(s)}),(s,l)=>(o(),n(g,null,[e("div",z,[J,O,e("div",V,[_.value?(o(),n("div",D,a(_.value),1)):i("",!0),t.value.sn?(o(),n("div",F,[e("div",L,[e("div",T,[e("a",{href:p(c).$util.settings.img+t.value.file,target:"_blank"},[e("img",{ref:"demo",src:p(c).$util.settings.img+t.value.file,class:"shadow-inner"},null,8,E)],8,U)])]),e("div",M,[e("div",P,a(t.value.param.title),1),e("div",W,[e("div",q,a(t.value.param.artist),1)]),e("div",G,[t.value.param.platform=="mj"?(o(),n("div",H,"Midjourney")):i("",!0),t.value.param.platform=="sd"?(o(),n("div",K,"SD WebUI")):i("",!0),t.value.param.platform=="ot"?(o(),n("div",Q,"其它")):i("",!0),t.value.param.seed?(o(),n("div",{key:3,class:"bg-stone-300/80 px-2 py-1 text-black/80 can-copy",onClick:l[0]||(l[0]=r=>s.copyContent("seed"))},a(t.value.param.seed),1)):i("",!0)]),e("div",R,[(o(!0),n(g,null,S(t.value.competition,r=>(o(),n("div",{class:"bg-stone-300 px-1 m-1",key:r},a(s.cps[r].name),1))),128))]),e("div",X,a(t.value.param.prompt),1),e("div",Y,a(t.value.param.negative),1),e("div",Z,[e("div",ee,[te,e("div",null,a(t.value.param.model?t.value.param.model:"-"),1)]),e("div",null,[se,e("div",null,a(t.value.param.scale?t.value.param.scale:"-"),1)])]),e("div",ae,[e("div",oe,[ne,e("div",null,a(t.value.param.sampler?t.value.param.sampler:"-"),1)]),e("div",null,[le,e("div",null,a(t.value.param.step?t.value.param.step:"-"),1)])]),e("div",ie,[e("button",{class:"text-white bg-green-700 flex items-center py-1 px-3",onClick:l[1]||(l[1]=r=>k())},[m(p(A),{class:"w-5 h-5 mr-2"}),ce]),e("button",{class:"text-white bg-red-700 flex items-center py-1 px-3",onClick:l[2]||(l[2]=r=>b())},[m(p(j),{class:"w-5 h-5 mr-2"}),re])])])])):i("",!0)])]),m($,{page:"search",signin:u.value,onUpdateStatus:y},null,8,["signin"]),m(C,{ref_key:"message",ref:v},null,512)],64))}},h=B(de);h.config.globalProperties.$util=N;h.use(I,{preLoad:1,attempt:2}).mount("#app");
