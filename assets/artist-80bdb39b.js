import{o as u,c as d,a as t,g as k,r,e as p,f,h as y,t as a,b as c,n as h,i as v,j as S,_ as $,F as N,k as B,l as C,d as O,u as j}from"./PageHeader-5f2f91de.js";import{_ as z}from"./PageFooter-d4c53ed8.js";import{_ as V,i as A}from"./index-19a739cd.js";import"./EyeIcon-50880172.js";function F(x,o){return u(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z","clip-rule":"evenodd"})])}const I={key:0,class:"fixed left-0 top-0 right-0 bottom-0 overflow-x-hidden overflow-y-scroll text-stone-900/80"},J=t("div",{class:"h-[120px]"},null,-1),M={class:"p-5 border-b border-stone-300 flex flex-col items-center"},P=["src"],T={class:"text-lg font-bold flex items-center mt-3"},D={class:"text-xs mt-3"},E={class:"flex flex-col md:flex-row mt-2"},L={class:"flex items-center"},U=t("div",{class:"w-2 h-2 rounded-full bg-red-500"},null,-1),q={class:"text-xs mx-2"},G={class:"flex items-center"},H=t("div",{class:"w-2 h-2 rounded-full bg-sky-500"},null,-1),K={class:"text-xs mx-2"},Q={class:"flex items-center"},R=t("div",{class:"w-2 h-2 rounded-full bg-yellow-500"},null,-1),W={class:"text-xs mx-2"},X={class:"mx-2"},Y={__name:"artist",setup(x){const{proxy:o}=k(),i=r(!!localStorage.token),l=r(localStorage.profile?JSON.parse(localStorage.profile):{}),m=r(),e=r([]),n=r(!1),w=s=>{i.value=s},b=()=>{if(!i.value)return m.value.show("您尚未登录，请登录后试试看"),!1;p.put(o.$util.settings.api+"/my/follow/"+e.value.username,JSON.stringify({}),{headers:{Authorization:"Bearer "+localStorage.token,accept:"application/json","Content-Type":"application/json"}}).then(function(s){s.data.res=="ok"&&(n.value=s.data.follow,n.value?l.value.follow.push(e.value.username):l.value.follow.splice(l.value.follow.indexOf(e.value.username),1),localStorage.setItem("profile",JSON.stringify(l.value)))}).catch(function(s){console.log(s)})};return p.get(o.$util.settings.api+"/artist/"+localStorage.artist,{headers:{accept:"application/json"}}).then(function(s){s.data.res=="ok"?(e.value=s.data.artist,n.value=l.value.follow.indexOf(e.value.username)>=0):s.data.res=="error"&&o.$util.gotoPage()}).catch(function(s){console.log(s)}),(s,_)=>(u(),d(N,null,[e.value?(u(),d("div",I,[J,t("div",M,[t("img",{src:f(o).$util.settings.api+"/"+e.value.avatar,class:"w-16 h-16 rounded-full border-2 border-white/80 mr-5"},null,8,P),t("div",T,[y(a(e.value.fullname?e.value.fullname:e.value.username)+" ",1),c(f(F),{class:h([e.value.gender==0?"text-pink-500":e.value.gender==1?"text-blue-500":"","ml-2 w-3 h-3"])},null,8,["class"])]),t("div",D,a(e.value.description),1),t("div",E,[t("div",L,[U,t("div",q,a(e.value.xiaohongshu?e.value.xiaohongshu:"-"),1)]),t("div",G,[H,t("div",K,a(e.value.bilibili?e.value.bilibili:"-"),1)]),t("div",Q,[R,t("div",W,a(e.value.weibo?e.value.weibo:"-"),1)])]),i.value&&e.value.username!=l.value.username?(u(),d("button",{key:0,class:"flex items-center mt-5 text-sm",onClick:_[0]||(_[0]=Z=>b())},[c(f(B),{class:h([n.value?"text-red-600":"","w-4 h-4"])},null,8,["class"]),t("div",X,a(n.value?"取消关注":"关注"),1)])):v("",!0)]),i.value?(u(),S(V,{key:0,title:"作品集",subtitle:"点击作品可以编辑详情",filter:"artist"})):v("",!0),c(z)])):v("",!0),c($,{page:"",signin:i.value,onUpdateStatus:w},null,8,["signin"]),c(C,{ref_key:"message",ref:m},null,512)],64))}},g=O(Y);g.config.globalProperties.$util=j;g.use(A,{preLoad:1,attempt:2}).mount("#app");
